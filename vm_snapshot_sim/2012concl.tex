\section{Conclusion}
\label{sect:final}
The main contribution of this paper is a multi-level selective deduplication scheme among VM snapshots. 
Inner-VM deduplication localizes backup data dependence and exposes more parallelism  
while global deduplication using a small common data set appeared in OS and data disks
effectively  covers a large amount of snapshot blocks.
Our evaluation using Aliyun's data has shown that 
level 1 and level 2 deduplication can reduce the storage need by 78\% while level 2 inner 
fingerprint comparsion contributes 4.5\%%. 
Level 3 can add additional 10.5\% reduction and accomplish 75\% of what full fingerprint-based
deduplication can do. Our scheme uses a very small amount of memory on each node, and leaves
room for additional optimization we are further studying.
%Noted that 6\% is still significant, which is about 24GB per each VM and for a 1000 node Aliyun cluster,
%this is about 600 terabytes.
 
%Our experiments show th
%our solution can eliminate the majority of data duplication with a tiny fraction of
%block hash index store in memory. It does not only saves valuable system resouces in
%the VM cloud, but also makes deduplication much faster.
%
%
%Using  50 user VM data out of 1322 data disks as the training data and
%with  1.5\% as CDS threshold, we see the total 1198GB of new data is reduced by
%755.8GB, while perfect deduplication can reduce 1017.4GB. So 74.3\% of duplicate blocks are eliminated
%by pre-trained CDS, which is quite satisfactory.

